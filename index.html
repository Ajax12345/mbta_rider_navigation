<html>
    <head>
        <meta charset="utf-8">
        <link rel="shortcut icon" href="#">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
        <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
        <script src="https://d3js.org/topojson.v1.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <link rel='stylesheet' href='src/style/main_style.css'>
        <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
        <script src='src/js/main_view.js'></script>
    </head>
    <body>
        <a href="https://github.com/Ajax12345/cr_project"><img decoding="async" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" loading="lazy" data-recalc-dims="1" style='position:absolute;right:0;'></a>
        <div style='height:20px'></div>
        <div class='main-container'>
            <div class='header-title'>MBTA Rider Diagnostics Dashboard</div>
            <div style='height:20px'></div>
            <div class='description-text' style='width:60%'>On this page, you will find a number of handy resources that are designed to make your next ride on the MBTA commuter rail system easier. To get started, choose a rail line from the options below.</div>
            <div style='height:40px'></div>
            <div class='selection-header'>
                <img src='src/img/train_icon.svg' style='width:40px;height:40px'>
                <div class='choice-prompt'>Choose a rail line</div>
            </div>
            <div style='height:30px'></div>
            <div class='rail-line-options'></div>
            <div style='height:30px'></div>
            <div class='route-results-wrapper'>
                <div class='route-reliability-header'></div>
                <div style="height:20px"></div>
                <div class="route-reliability description-text" style="width:60%"></div>
                <div style='height:30px'></div>
                <div class='data-view-outer'>
                    <div class='route-map-outer'>
                        <div id="map"></div>
                    </div>
                    <div class='route-table-display'>

                    </div>
                </div>
                <div style='height:100px'></div>
                <div class='realtime-view-header choice-prompt'></div>
                <div class='live-view-about'>
                    <div style='height:20px'></div>
                    <div class="description-text" style="width:60%">Track the progress of your train along its route below. Follow the color-coded legend to determine its schedule status. Please note: this view currently only supports inbound trains.</div>
                </div>
                <div class='live-view-outer'>
                    <div class='live-view-container'>
                        <div id="live-view-map"></div>
                    </div>
                    <div class='live-view-table'>

                    </div>
                </div>
            </div>
            <div style='height:50px'></div>
            <div id='mbta-rail-reliability' class="choice-prompt">MBTA Commuter Rail Reliability in Perspective</div>
            <div style='height:20px'></div>
            <div class="description-text" style="width:60%">The reliability of an MBTA commuter rail line is <a href='https://www.mbta.com/performance-metrics/service-reliability' target="_blank">measured</a> as percentage of trains that arrive at their final stop no more than five minutes late. Hover over the lines to see the average reliability and ridership in-depth.</div>
            <div style='height:20px'></div>
            <div class='full-route-view-outer'>
                <div class='all-lines-container'>
                    <div class="legend">
                        <div class="legend-text">Line Reliability</div>
                        <div style="height:10px"></div>
                        <div class="legend-items">
                            <div class="legend-block on-time"></div>
                            <div class="legend-block-text">Reliable 90% of the time or more</div>
                            <div class="legend-block behind-schedule"></div>
                            <div class="legend-block-text">Reliable 88% of the time or more</div>
                            <div class="legend-block late"></div>
                            <div class="legend-block-text">Reliable less than 88% of the time</div>
                            <div class="legend-block no-data"></div>
                            <div class="legend-block-text">No data available</div>
                        </div>
                    </div>
                    <div id="full-route-map"></div>
                </div>
                <div class='all-lines-table-outer'>
                    <div class='record-container' id='full-route-table'>
                        <div class='cell cell-header'>Line</div>
                        <div class='cell cell-header'>Reliability</div>
                        <div class='cell cell-header'>Average Daily Ridership</div>
                    </div>
                </div>
            </div>
            <div style='height:150px'></div>
            <div class="choice-prompt">MBTA Commuter Rail Reliability Over Time</div>
            <div style='height:20px'></div>
            <div class="description-text" style="width:60%">The last seven years have been a time of considerable change for the MBTA: major investment pledges, expansive electrification plans for the commuter rail, and then, of course, the pandemic. How has all this really affected what matters most to riders? Below are charts that track the reliability of the MBTA commuter rail system from 2016-2023</div>
            <div style='height:20px'></div>
            <div class="legend full-line-legend">
                <div class="legend-text">Line Reliability</div>
                <div style="height:10px"></div>
                <div class="legend-items">
                    <div class="legend-block on-time"></div>
                    <div class="legend-block-text">Reliable 90% of the time or more</div>
                    <div class="legend-block behind-schedule"></div>
                    <div class="legend-block-text">Reliable 88% of the time or more</div>
                    <div class="legend-block late"></div>
                    <div class="legend-block-text">Reliable less than 88% of the time</div>
                    <div class="legend-block no-data"></div>
                    <div class="legend-block-text">No data available</div>
                </div>
            </div>
            <div style='height:50px'></div>
            <div class='reliability-years-outer reliability-headers'>
                <div class='reliability-container'>
                    <div class='scatterplot-title'>MBTA Commuter Rail Reliability 2016-2023</div>
                </div>
                <div class='reliability-container'>
                    <div class='individual-line-selection'>
                        <select class='choose-line-reliability'></select>
                        <div class='line-scatterplot-title'> Reliability 2016-2023</div>
                    </div>
                </div>
            </div>
            <div style='height:10px'></div>
            <div class='reliability-years-outer'>
                <div class='reliability-container'>
                    <div id='total-reliability'></div>
                </div>
                <div class='reliability-container'>
                    <div id='line-total-reliability'></div>
                </div>
            </div>
        </div>

        <div class='stop-tooltip'></div>
        <div class="tooltip"></div>
    </body>
</html>